<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Mi perfil</title>
<link rel="icon" type="imagen/png" th:href="@{/img/pixlr-bg-result.png}" />
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="icon" type="imagen/png" th:href="@{/img/pixlr-bg-result.png}" />
<link href='https://fonts.googleapis.com/css?family=Rubik'
	rel='stylesheet'>
<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">
<!--Estilos formulario-->
<link rel="stylesheet" type="text/css"
	th:href="@{/css/usuarioEstilos.css}">
</head>

<body style="background-color: lightgoldenrodyellow;">

	<div th:include="administrador/encabezado.html::header"></div>
	<div class="w3-container d-flex justify-content-center">

		<div class="modal fade" id="exampleModal" tabindex="-1"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Actualizar
							Datos de usuario</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal"
							aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<form th:action="@{/cdsp/usuarios/admin/actualizar}"
							th:object="${usuario}" id="formularioUsuario" method="POST">
							<input type="hidden" th:field="*{id}" th:value="${usuario.id}" />

							<div class="mb-2">
								<div class="formulario__grupo" id="grupo__nombres">
									<label for="recipient-name"
										class="col-form-label formulario__label">Nombres:</label>
									<div class="formulario__grupo-input">
										<input type="text" name="nombres" th:field="*{nombres}"
											class="form-control formulario__input"
											id="recipient-name required"> <i
											class="formulario__validacion-estado fas fa-times-circle"></i>
									</div>
									<p class="formulario__input-error">El nombre solo puede
										contener letras</p>
								</div>
							</div>
							<div class="mb-2">
								<div class="formulario__grupo" id="grupo__apellidos">
									<label for="recipient-name"
										class="col-form-label formulario__label">Apellidos:</label>

									<div class="formulario__grupo-input">
										<input type="text" name="apellidos" th:field="*{apellidos}"
											class="form-control formulario__input" required
											id="recipient-name"> <i
											class="formulario__validacion-estado fas fa-times-circle"></i>
									</div>
									<p class="formulario__input-error">El apellido solo puede
										contener letras</p>
								</div>
							</div>
							<div class="mb-2">
								<div class="formulario__grupo" id="grupo__idUsuario">
									<label for="recipient-name"
										class="col-form-label formulario__label">Identificación:</label>
									<div class="formulario__grupo-input">
										<input type="number" name="idUsuaio" th:field="*{idUsuario}"
											class="form-control formulario__input" id="recipient-name "
											required> <i
											class="formulario__validacion-estado fas fa-times-circle"></i>
									</div>
									<p class="formulario__input-error">El documento solo puede
										ocntener números.</p>
								</div>
							</div>
							<div class="mb-2">
								<div class="formulario__grupo" id="grupo__correo">
									<label for="recipient-name" class="col-form-label  formulario__label">E-mail:</label>
									<div class="formulario__grupo-input">
										<input type="email" name="correo" th:field="*{correo}"
											class="form-control formulario__input" id="recipient-name"
											required> <i
											class="formulario__validacion-estado fas fa-times-circle"></i>
										<i class="formulario__validacion-estado fas fa-times-circle"></i>
									</div>
									<p class="formulario__input-error">El correo debe ser
										válido</p>
								</div>
							</div>

							<div class="mb-2">
								<div class="formulario__grupo" id="grupo__direccion">
									<label for="recipient-name"
										class="col-form-label formulario__label">Dirección</label>
									<div class="formulario__grupo-input">
										<input type="text" name="direccion" th:field="*{direccion}"
											class="form-control formulario__input" id="recipient-name"
											required> <i
											class="formulario__validacion-estado fas fa-times-circle"></i>
										<i class="formulario__validacion-estado fas fa-times-circle"></i>
									</div>
									<p class="formulario__input-error">La dirección debe tener
										más de 5 caracateres, sin simbolos</p>
								</div>
							</div>
							<div class="mb-2">
								<div class="formulario__grupo" id="grupo__telefono">
									<label for="recipient-name"
										class="col-form-label formulario__label">Teléfono:</label>
									<div class="formulario__grupo-input">
										<input type="number" name="telefono" th:field="*{telefono}"
											class="form-control formulario__input" id="recipient-name"
											required> <i
											class="formulario__validacion-estado fas fa-times-circle"></i>
									</div>
									<p class="formulario__input-error">El telefono sólo puede
										contener números y como minimo 10 caracateres</p>
								</div>
							</div>
							<div class="mb-2">
								<div class="formulario__grupo" id="grupo__contrasenia">
									<label for="recipient-name"
										class="col-form-label formulario__label">Contraseña:</label>
									<div class="formulario__grupo-input">
										<input type="password" name="contrasenia"
											th:field="*{contrasenia}"
											class="form-control formulario__input" id="recipient-name"
											placeholder="Actualiza tu contraseña" required /> <i
											class="formulario__validacion-estado fas fa-times-circle"></i>
									</div>
									<p class="formulario__input-error">El usuario tiene que ser
										de 4 a 16 dígitos y solo puede contener numeros, letras y
										guion bajo.</p>
								</div>
							</div>

							<div class="modal-footer">
								<button type="submit" class="btn btn-primary">Actualizar</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		<div class="card border-primary m-5 " style="max-width: 55rem;">
			<div class="card-header fs-3">Mi Perfil</div>
			<div class="card-body">
				<h6 class="card-title fs-4">Datos de usuario</h6>

				<div class="d-flex py-2 mt-0 border-bottom">
					<div class="d-flex me-4">
						<h4 class="align-self-center">
							<i class="fa-solid fa-user text-primary"></i>
						</h4>
					</div>
					<div class="align-self-center">
						<h6 class="d-inline-block mb-0">
							<span class="w3-large"
								th:text="${usuario.nombres} +' '+${usuario.apellidos}"
								th:value="${usuario.idUsuario}"> </span>
						</h6>
						<small class="d-block text-muted">Nombres y apellidos</small>
					</div>
				</div>

				<div class="d-flex py-2 mt-0 border-bottom">
					<div class="d-flex me-4">
						<h4 class="align-self-center">
							<i class="fa-solid fa-id-card text-primary"></i>
						</h4>
					</div>
					<div class="align-self-center">
						<h6 class="d-inline-block mb-0">
							<span class="w3-large" th:text="${usuario.idUsuario}"
								th:value="${usuario.idUsuario}"> </span>
						</h6>
						<small class="d-block text-muted">Identificación</small>
					</div>
				</div>
				<div>
					<div class="d-flex py-2 mt-0 border-bottom">
						<div class="d-flex me-4">
							<h4 class="align-self-center">
								<i class="fa-solid fa-envelope text-primary"></i>
							</h4>
						</div>
						<div class="align-self-center">
							<h6 class="d-inline-block mb-0">
								<span class="w3-large" th:text="${usuario.correo}"
									th:value="${usuario.idUsuario}"> </span>
							</h6>
							<small class="d-block text-muted">E-mail</small>
						</div>
					</div>
					<div class="d-flex py-2 mt-0 border-bottom">
						<div class="d-flex me-4">
							<h4 class="align-self-center">
								<i class="fa-solid fa-location-dot text-primary"></i>
							</h4>
						</div>
						<div class="align-self-center">
							<h6 class="d-inline-block mb-0">
								<span class="w3-large" th:text="${usuario.direccion}"
									th:value="${usuario.idUsuario}"> </span>
							</h6>
							<small class="d-block text-muted">Dirección</small>
						</div>
					</div>
					<div class="d-flex py-2 mt-0 border-bottom">
						<div class="d-flex me-4">
							<h4 class="align-self-center">
								<i class="fa-solid fa-phone text-primary"></i>
							</h4>
						</div>
						<div class="align-self-center ">
							<h6 class="d-inline-block mb-0">
								<span class="w3-large" th:text="${usuario.telefono}"> </span>
							</h6>
							<small class="d-block text-muted">Teléfono</small>
						</div>
					</div>

					<div class="d-flex py-2 mt-0 border-bottom">
						<div class="d-flex me-4">
							<h4 class="align-self-center">
								<i class="fa-solid fa-users-rectangle text-primary"></i>
							</h4>
						</div>
						<div class="align-self-center ">
							<h6 class="d-inline-block mb-0">
								<span class="w3-large" th:each="rol : ${roles}"
									th:text="${rol.nombre}"> </span>
							</h6>
							<small class="d-block text-muted">Rol</small>
						</div>
					</div>

					<div class="text-center m-2">
						<button type="button" class="btn btn-primary"
							data-bs-toggle="modal" data-bs-target="#exampleModal"
							data-bs-whatever="@mdo">Actualizar Datos</button>
						<a th:href="@{/cdsp/cerrar}" class="btn btn-danger"> Cerrar
							sesión</a>
					</div>
				</div>
			</div>

		</div>
	</div>
	<!-- jQuery js-->
	<script th:src="@{/jquery/jQuery3.6.1.js}"></script>

	<!-- Pedidos js -->
	<script type="text/javascript" th:src="@{/js/Pedidos.js}"></script>

	<!-- Datatables js -->
	<script type="text/javascript"
		th:src="@{/datatables/datatables.min.js}"></script>

	<!--Alertas sweet alert-->
	<script type="text/javascript" th:src="@{/sweetalert/sweetalert2.js}"></script>
	<script th:src="@{/js/alertas.js}"></script>


	<!--IziToast js-->
	<script th:src="@{/iziToast-master/dist/js/iziToast.min.js}"></script>

	<!-- Fonts Awesome -->
	<script src="https://kit.fontawesome.com/816766908f.js"
		crossorigin="anonymous"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>
	<script th:src="@{/js/validarUsuario.js}"></script>
</body>
</html>